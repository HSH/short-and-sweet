/*
 * short-and-sweet v1.0.0 - Accessible character counter for input elements
 * Copyright (c) 2018 Rik Schennink <hello@rikschennink.nl> (http://rikschennink.nl/)
 */
!function(t,e){if("function"==typeof define&&define.amd)define(["module","exports"],e);else if("undefined"!=typeof exports)e(module,exports);else{var n={exports:{}};e(n,n.exports),t.shortAndSweet=n.exports}}(this,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=function(t){if(typeof window==="undefined"?null:window){var o=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=document.createElement(t);return Object.keys(e).forEach(function(t){n.setAttribute(t,e[t])}),n},d=0,n=function(s,t){if(s.getAttribute("maxlength")){var u=s.dataset.counterLabel||t.counterLabel||"{remaining} characters left",l=function(t){var n=t.assistDelay,e=o("span",{className:"short-and-sweet-counter","aria-hidden":"true"}),r=o("span",{style:"position:absolute;overflow:hidden;height:1px;width:1px;padding:0;border:0;clip:rect(1px, 1px, 1px, 1px);clip-path:inset(50%);white-space:nowrap;",id:"short-and-sweet-counter-"+d++,role:"status","aria-live":"polite"}),a=document.createDocumentFragment();a.appendChild(e),a.appendChild(r);var i=null;return{id:r.id,fragment:a,updateText:function(t){e.textContent=t},updateAssist:function(t,e){clearTimeout(i),e?r.textContent=t:i=setTimeout(function(){r.textContent=t},n)},syncAssist:function(){clearTimeout(i),r.textContent=e.textContent},resetAssist:function(){clearTimeout(i),r.textContent=""}}}(t);s.setAttribute("aria-controls",l.id),t.append(s,l.fragment);var c=!0,e=function(){var t,e,n=null!=(t=s.getAttribute("maxlength"))?parseInt(t,10):null,r=s.value.length>n;r&&((e=s).value=s.value.substr(0,e));var a,i=s.value.length,o=(a={maxlength:n,length:i,remaining:n-i},u.replace(/(?:{([a-zA-Z]+)})/g,function(t,e){return a[e]}));l.updateText(o),c?c=!1:l.updateAssist(o,r)};s.addEventListener("focus",l.syncAssist),s.addEventListener("blur",l.resetAssist),s.addEventListener("input",e),e()}},r={assistDelay:2e3,append:function(t,e){t.parentNode.appendChild(e)}},a=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t.map(function(t){return n(t,i({},r,e))})};return function(t,e){return"string"==typeof t?a([].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(document.querySelectorAll(t))),e):a([t],e)[0]}}}(),t.exports=e.default});